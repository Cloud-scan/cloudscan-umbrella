global:
  imagePullPolicy: Always
  storageClass: standard

postgresql:
  enabled: false  # Using external PostgreSQL
  external:
    host: cloudscan-postgres-postgresql.cloudscan.svc.cluster.local
    port: 5432
    user: cloudscan
    password: cloudscan123
    database: cloudscan

redis:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/redis
    tag: latest
  auth:
    enabled: true
    password: redis123
  tls:
    enabled: true
    autoGenerated: true
    certFilename: "tls.crt"
    certKeyFilename: "tls.key"
    certCAFilename: "ca.crt"
    authClients: false
  master:
    persistence:
      enabled: false

orchestrator:
  enabled: true
  image:
    registry: docker.io/mahiop123
    repository: cloudscan-orchestrator
    pullPolicy: Always
  replicaCount: 1
  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"

apiGateway:
  enabled: true
  image:
    registry: docker.io/mahiop123
    repository: cloudscan-api-gateway
    pullPolicy: Always
  replicaCount: 1
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

storage:
  enabled: true
  image:
    registry: docker.io/mahiop123
    repository: cloudscan-storage
    pullPolicy: Always
  replicaCount: 1
  storageType: local
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

websocket:
  enabled: true
  image:
    registry: docker.io/mahiop123
    repository: cloudscan-websocket
    pullPolicy: Always
  replicaCount: 1
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

ui:
  enabled: true
  image:
    registry: docker.io/mahiop123
    repository: cloudscan-ui
    pullPolicy: Always
  replicaCount: 1
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

runner:
  enabled: true
  image:
    registry: docker.io/mahiop123
    repository: cloudscan-runner
    pullPolicy: Always

ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  hosts:
    - host: cloudscan.local
      paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: cloudscan-ui
              port: 3000
        - path: /api
          pathType: Prefix
          backend:
            service:
              name: cloudscan-api-gateway
              port: 8080
        - path: /ws
          pathType: Prefix
          backend:
            service:
              name: cloudscan-websocket
              port: 9090
  tls:
    - secretName: cloudscan-tls
      hosts:
        - cloudscan.local
