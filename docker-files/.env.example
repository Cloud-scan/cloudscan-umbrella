# CloudScan Environment Variables Example
# Copy this file to .env and update with your values

# ========================================
# Global Settings
# ========================================
LOG_LEVEL=info
TZ=UTC
ENVIRONMENT=production

# ========================================
# PostgreSQL Database
# ========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=cloudscan
DB_USER=cloudscan
DB_PASSWORD=changeme
DB_SSL_MODE=disable
DB_MAX_CONNECTIONS=100
DB_MAX_IDLE_CONNECTIONS=10

# ========================================
# Redis Cache
# ========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0
REDIS_MAX_RETRIES=3

# ========================================
# Orchestrator Service
# ========================================
ORCHESTRATOR_GRPC_PORT=9999
ORCHESTRATOR_HTTP_PORT=8081
ORCHESTRATOR_JOB_NAMESPACE=default
ORCHESTRATOR_JOB_TIMEOUT=3600
ORCHESTRATOR_MAX_CONCURRENT_JOBS=10

# ========================================
# Storage Service
# ========================================
STORAGE_PORT=8082
STORAGE_TYPE=local
STORAGE_PATH=/app/storage
# For S3:
# STORAGE_TYPE=s3
# STORAGE_S3_BUCKET=cloudscan-scans
# STORAGE_S3_REGION=us-east-1
# STORAGE_S3_ACCESS_KEY=your-access-key
# STORAGE_S3_SECRET_KEY=your-secret-key

# ========================================
# API Gateway Service
# ========================================
API_GATEWAY_PORT=8080
API_GATEWAY_ORCHESTRATOR_URL=http://orchestrator:8081
API_GATEWAY_STORAGE_URL=http://storage:8082
API_GATEWAY_WEBSOCKET_URL=http://websocket:9090
API_GATEWAY_CORS_ORIGINS=http://localhost:3000,https://cloudscan.example.com
API_GATEWAY_RATE_LIMIT=100
API_GATEWAY_TIMEOUT=30

# ========================================
# WebSocket Service
# ========================================
WEBSOCKET_PORT=9090
WEBSOCKET_CORS_ORIGINS=http://localhost:3000,https://cloudscan.example.com
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_MAX_CONNECTIONS=1000

# ========================================
# Runner Service
# ========================================
RUNNER_SCAN_TIMEOUT=1800
RUNNER_MAX_FILE_SIZE=100MB
RUNNER_WORK_DIR=/app/scans
RUNNER_RESULTS_DIR=/app/results
# Scanner tool paths (auto-detected if not set)
# RUNNER_TRIVY_PATH=/usr/local/bin/trivy
# RUNNER_SEMGREP_PATH=/usr/local/bin/semgrep
# RUNNER_TRUFFLEHOG_PATH=/usr/local/bin/trufflehog
# RUNNER_SCANCODE_PATH=/usr/local/bin/scancode

# ========================================
# UI Service (Build Args)
# ========================================
REACT_APP_API_URL=http://localhost:8080
REACT_APP_WS_URL=ws://localhost:9090
REACT_APP_ENVIRONMENT=production

# ========================================
# Authentication (if implemented)
# ========================================
# JWT_SECRET=your-super-secret-jwt-key-change-this
# JWT_EXPIRATION=86400
# JWT_REFRESH_EXPIRATION=604800

# ========================================
# Observability (Optional)
# ========================================
# Tracing
# JAEGER_ENDPOINT=http://jaeger:14268/api/traces
# JAEGER_SAMPLER_TYPE=const
# JAEGER_SAMPLER_PARAM=1

# Metrics
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9100

# ========================================
# Docker Registry (for CI/CD)
# ========================================
DOCKER_REGISTRY=docker.io
DOCKER_NAMESPACE=cloudscan
DOCKER_TAG=latest

# ========================================
# Kubernetes (for deployments)
# ========================================
K8S_NAMESPACE=cloudscan
K8S_CLUSTER_NAME=cloudscan-cluster
K8S_SERVICE_ACCOUNT=cloudscan-orchestrator